################################################################################
# FICHIER DE CONFIGURATION - SCRIPT DE PATCHING AUTOMATIQUE
# Description: Configuration des paramètres du script de patching
# Emplacement: /opt/patching/config.conf
################################################################################

# PLANIFICATION
# Heure d'exécution (format 24h)
PATCH_HOUR=2

# Jour de la semaine (0=dimanche, 1=lundi, ..., 3=mercredi, 6=samedi)
PATCH_DAY=3

# JOURNALISATION
# Nombre de jours de conservation des logs
LOG_RETENTION_DAYS=90

# REDÉMARRAGE
# Activer le redémarrage automatique après patching (true/false)
ENABLE_REBOOT=true

# Délai avant redémarrage en minutes (temps pour annuler si nécessaire)
REBOOT_DELAY=10

# NOTIFICATIONS
# Endpoint API pour les notifications (webhooks)
# Exemple: https://votre-api.com/webhook/patching
# Laisser vide pour désactiver les notifications API
API_ENDPOINT=""

# APPLICATIONS CRITIQUES À VÉRIFIER APRÈS REDÉMARRAGE

# Services systemd à vérifier (séparés par des espaces)
# Exemple: "nginx mysql docker redis"
CRITICAL_SERVICES="nginx mysql docker"

# Conteneurs Docker critiques (noms exacts, séparés par des espaces)
# Exemple: "mon-app mon-db mon-redis mon-worker"
# Laisser vide si vous n'utilisez pas Docker ou si vous utilisez uniquement docker-compose
CRITICAL_CONTAINERS=""

# Projets Docker Compose (chemins absolus, séparés par des espaces)
# Exemple: "/opt/app1 /opt/app2 /home/user/myproject"
# Laisser vide si vous n'utilisez pas Docker Compose
CRITICAL_COMPOSE_PROJECTS=""

# SÉCURITÉ
# Activer la vérification des signatures GPG (true/false)
VERIFY_GPG_SIGNATURES=true

# MODE DEBUG
# Activer le mode debug pour plus de détails dans les logs (true/false)
DEBUG_MODE=false

################################################################################
# NOTES D'UTILISATION
################################################################################
#
# 1. Ce fichier sera chargé automatiquement par le script patch-vps.sh
# 2. Toute modification nécessite de relancer le script (le cron le fera automatiquement)
# 3. Les valeurs par défaut sont utilisées si ce fichier n'existe pas
# 4. Pour tester la configuration: ./patch-vps.sh --dry-run
#
################################################################################
